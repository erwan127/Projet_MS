{
  "info": {
    "name": "StatisticsService Tests - UPDATED",
    "description": "Complete test collection for StatisticsService endpoints - Updated with HOURLY granularity and correct IDs",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080"
    },
    {
      "key": "stats_path",
      "value": "/api/statistics"
    }
  ],
  "item": [
    {
      "name": "1. Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/health",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "health"]
        },
        "description": "Check if StatisticsService is running"
      }
    },
    {
      "name": "2. Global Statistics - HOURLY (Main)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/global?granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "global"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get overall system statistics - HOURLY (Shows real data!)"
      }
    },
    {
      "name": "3. Global Statistics - DAILY (Returns zeros)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/global?granularity=DAILY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "global"],
          "query": [
            {
              "key": "granularity",
              "value": "DAILY"
            }
          ]
        },
        "description": "Get daily global statistics (Returns zeros - no daily data collected yet)"
      }
    },
    {
      "name": "4. Dashboard Summary - HOURLY",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/dashboard",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "dashboard"]
        },
        "description": "Get dashboard summary (uses DAILY by default - may return zeros)"
      }
    },
    {
      "name": "5. Vehicle Statistics - vehicle001",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/vehicle/vehicle001?granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "vehicle", "vehicle001"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get statistics for vehicle001 (Tesla Model 3)"
      }
    },
    {
      "name": "6. Vehicle Statistics - vehicle002",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/vehicle/vehicle002?granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "vehicle", "vehicle002"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get statistics for vehicle002 (BMW i3)"
      }
    },
    {
      "name": "7. Station Statistics - station001",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/station/station001?granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "station", "station001"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get statistics for station001"
      }
    },
    {
      "name": "8. User Statistics - user001",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/user/user001?granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "user", "user001"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get statistics for user001 (Alice)"
      }
    },
    {
      "name": "9. Generic Entity Statistics - HOURLY",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/entity/vehicle001?entityType=VEHICLE&granularity=HOURLY",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "entity", "vehicle001"],
          "query": [
            {
              "key": "entityType",
              "value": "VEHICLE"
            },
            {
              "key": "granularity",
              "value": "HOURLY"
            }
          ]
        },
        "description": "Get statistics using generic entity endpoint - HOURLY"
      }
    },
    {
      "name": "10. History - Total Vehicles - HOURLY",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/history/TOTAL_VEHICLES?granularity=HOURLY&startTime=2025-06-17T00:00:00&endTime=2025-06-18T23:59:59",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "history", "TOTAL_VEHICLES"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            },
            {
              "key": "startTime",
              "value": "2025-06-17T00:00:00"
            },
            {
              "key": "endTime",
              "value": "2025-06-18T23:59:59"
            }
          ]
        },
        "description": "Get historical data for total vehicles - HOURLY with current dates"
      }
    },
    {
      "name": "11. History - Vehicle Mileage - HOURLY",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/history/VEHICLE_MILEAGE?granularity=HOURLY&startTime=2025-06-17T00:00:00&endTime=2025-06-18T23:59:59",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "history", "VEHICLE_MILEAGE"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            },
            {
              "key": "startTime",
              "value": "2025-06-17T00:00:00"
            },
            {
              "key": "endTime",
              "value": "2025-06-18T23:59:59"
            }
          ]
        },
        "description": "Get historical vehicle mileage data - HOURLY"
      }
    },
    {
      "name": "12. History - Station Occupancy - HOURLY",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/history/STATION_OCCUPANCY_RATE?granularity=HOURLY&startTime=2025-06-17T00:00:00&endTime=2025-06-18T23:59:59",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "history", "STATION_OCCUPANCY_RATE"],
          "query": [
            {
              "key": "granularity",
              "value": "HOURLY"
            },
            {
              "key": "startTime",
              "value": "2025-06-17T00:00:00"
            },
            {
              "key": "endTime",
              "value": "2025-06-18T23:59:59"
            }
          ]
        },
        "description": "Get hourly station occupancy data with current dates"
      }
    },
    {
      "name": "13. Manual Statistics Collection",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}{{stats_path}}/collect",
          "host": ["{{base_url}}"],
          "path": ["{{stats_path}}", "collect"]
        },
        "description": "Trigger manual statistics collection - Run this first to populate data!"
      }
    }
  ]
} 